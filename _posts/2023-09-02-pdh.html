<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>

<body>
  <form name="frm">
  <input type="number" id="numberInput" placeholder="숫자를 입력하세요">
  </form>
<div id="canvasContainer"></div>

<script>
    let angle;
    let bob;
    let len;
    let origin;
    let w = 0;
    let a = 0;
    let gravity;

    function setup() {
        let cnv = createCanvas(600, 400);
        cnv.parent('canvasContainer');
        origin = createVector(300, 0);
        angle = PI / 4;
        bob = createVector();

        // 입력 필드의 값을 가져와 len 변수에 초기화
        len = parseFloat(document.getElementById("numberInput").value);
    }

    function draw() {
        background(220);

        gravity = 100;
        a = (-1 * gravity * sin(angle)) / (len * len);
        w += a;
        angle += w;

        bob.x = len * sin(angle) + origin.x;
        bob.y = len * cos(angle) + origin.y;

        stroke(0);
        strokeWeight(8);
        fill(255);
        line(origin.x, origin.y, bob.x, bob.y);
        circle(bob.x, bob.y, 64);
    }

    // 입력 필드의 값이 변경될 때마다 len 변수 업데이트
    document.getElementById("numberInput").addEventListener("change", function() {
        len = parseFloat(document.getElementById("numberInput").value);
    });
</script>

</body>

</html>